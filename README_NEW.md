# 🚀 Verifix-OTP - نظام إرسال رسائل التحقق

## 📋 نظرة عامة

Verifix-OTP هو نظام متطور لإرسال رسائل التحقق والبريد الإلكتروني للشركات. يتميز بواجهة إدارية شاملة ونظام تلقائي لإنشاء حساب المدير.

## ⚡ التشغيل السريع

### 1. تشغيل النظام
```bash
python run.py
```

### 2. معلومات تسجيل الدخول الافتراضية
- **البريد الإلكتروني:** `admin@verifix-otp.com`
- **كلمة المرور:** `zxc65432`
- **الرابط:** `http://localhost:5000`

## 🔧 الميزات التلقائية

### إنشاء حساب المدير تلقائياً
عند تشغيل النظام لأول مرة، يتم تلقائياً:

✅ إنشاء حساب مدير بالمعلومات التالية:
- البريد: `admin@verifix-otp.com`
- كلمة المرور: `zxc65432`
- رصيد ابتدائي: 10,000 رسالة

✅ إعداد خادم البريد الإلكتروني تلقائياً:
- خادم SMTP: `smtp.gmail.com`
- المنفذ: `587`
- المستخدم: `hanizezo72@gmail.com`
- كلمة المرور: `jxtr qylc lzkj ehpb`

✅ إنشاء القوالب الافتراضية للرسائل

✅ إنشاء الخدمات الأساسية

## 📧 إرسال الرسائل

### آلية الإرسال
- **جميع رسائل التحقق والترحيب** يتم إرسالها من حساب المدير تلقائياً
- الشركات المشتركة لا تحتاج لإعداد خوادم SMTP خاصة بها
- النظام يستخدم إعدادات المدير لضمان وصول الرسائل

### اختبار إرسال الرسائل
```bash
python test_email.py
```

## 🎛️ لوحة التحكم الإدارية

### الوصول للوحة الإدارة
1. سجل دخول بحساب المدير
2. اذهب إلى `/admin`
3. أو انقر على "لوحة الإدارة" في القائمة

### الميزات المتاحة
- 👥 إدارة الشركات
- 💰 إدارة طلبات الشحن
- 📊 الإحصائيات والتقارير
- 📧 إدارة قوالب البريد
- ⚙️ الإعدادات العامة

## 🔐 الأمان

### تشفير كلمات المرور
- جميع كلمات المرور مشفرة باستخدام bcrypt
- كلمات مرور SMTP محمية في قاعدة البيانات

### API Keys
- كل شركة تحصل على API Key فريد
- يمكن إعادة إنتاج المفاتيح عند الحاجة

## 📁 هيكل المشروع

```
email_sender/
├── app/                    # التطبيق الرئيسي
│   ├── __init__.py        # إنشاء المدير تلقائياً
│   ├── models.py          # نماذج قاعدة البيانات
│   ├── admin/             # لوحة التحكم الإدارية
│   ├── auth/              # المصادقة والتسجيل
│   ├── dashboard/         # لوحة تحكم الشركات
│   ├── api/               # واجهة برمجة التطبيقات
│   ├── main/              # الصفحات الرئيسية
│   ├── utils/             # أدوات مساعدة
│   └── templates/         # قوالب HTML
├── instance/              # قاعدة البيانات
├── static/                # الملفات الثابتة
├── .env                   # متغيرات البيئة
├── run.py                 # ملف التشغيل الرئيسي
├── test_email.py          # اختبار إرسال الرسائل
└── requirements.txt       # المتطلبات

```

## 🔧 الإعدادات المتقدمة

### تخصيص إعدادات SMTP
يمكن تعديل إعدادات SMTP في ملف `.env`:

```env
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
```

### تغيير معلومات المدير
يمكن تعديل معلومات المدير الافتراضي في `.env`:

```env
ADMIN_EMAIL=admin@verifix-otp.com
ADMIN_PASSWORD=zxc65432
```

## 🧪 الاختبار

### اختبار النظام
```bash
# اختبار التطبيق بالكامل
python start_system.py

# اختبار إرسال الرسائل فقط
python test_email.py

# اختبار قاعدة البيانات
python -c "from app import create_app; app = create_app(); print('OK')"
```

## 📈 المراقبة

### عرض الإحصائيات
- إجمالي الشركات المسجلة
- عدد الرسائل المرسلة
- طلبات الشحن المعلقة
- إيرادات النظام

### السجلات
- سجل جميع الرسائل المرسلة
- تتبع الأخطاء والمشاكل
- إحصائيات مفصلة لكل شركة

## 🎯 الميزات الرئيسية

✅ **إنشاء حساب المدير تلقائياً** عند التشغيل الأول
✅ **إعداد SMTP تلقائي** للمدير
✅ **إرسال رسائل التحقق** من حساب المدير لجميع المستخدمين
✅ **لوحة إدارية شاملة** لإدارة النظام
✅ **نظام شحن الرصيد** عبر التحويل البنكي
✅ **قوالب بريد إلكتروني جاهزة** باللغة العربية
✅ **واجهة برمجة تطبيقات RESTful API**
✅ **تشفير آمن** لجميع البيانات الحساسة
✅ **إحصائيات وتقارير مفصلة**
✅ **دعم الرفع** لإيصالات التحويل

## 🛠️ استكشاف الأخطاء

### مشاكل شائعة

**1. فشل إرسال الرسائل:**
- تأكد من صحة بيانات SMTP في `.env`
- تحقق من تفعيل كلمة مرور التطبيق للجيميل

**2. عدم ظهور لوحة الإدارة:**
- تأكد من تسجيل الدخول بحساب المدير
- تحقق من أن `is_admin=True` في قاعدة البيانات

**3. مشاكل قاعدة البيانات:**
```bash
# حذف قاعدة البيانات وإعادة إنشائها
rm instance/app.db
python run.py
```

## 📞 الدعم الفني

- **البريد الإلكتروني:** hanizezo72@gmail.com
- **رقم الواتساب:** 01033607749 (لطلبات شحن الرصيد)

---

## 🚀 ابدأ الآن!

```bash
# تشغيل النظام
python run.py

# ثم اذهب إلى
http://localhost:5000

# سجل دخول بحساب المدير
البريد: admin@verifix-otp.com
كلمة المرور: zxc65432
```

**🎉 نظام Verifix-OTP جاهز للاستخدام!**
